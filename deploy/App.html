<!DOCTYPE html>
<html>
<head>
    <title>UAT Triage</title>

    <script type="text/javascript" src="/apps/2.0/sdk.js"></script>

    <script type="text/javascript">
        Rally.onReady(function () {
                Ext.define("CustomApp",{extend:"Rally.app.App",componentCls:"app",launch:function(){var project_oid="/project/37192747640";this.add({xtype:"rallycombobox",stateful:!0,stateId:this.getContext().getScopedStateId("initiative"),width:600,fieldLabel:"Select Initiative:",displayTpl:Ext.create("Ext.XTemplate",'<tpl for=".">',"{FormattedID} - {Name}","</tpl>"),tpl:Ext.create("Ext.XTemplate",'<tpl for=".">','<div class="x-boundlist-item">{FormattedID} - {Name}</div>',"</tpl>"),storeConfig:{autoLoad:!0,model:"PortfolioItem/Initiative",fetch:["FormattedID","Name"],sorters:[{property:"ObjectID",direction:"ASC"}],remoteGroup:!1,remoteSort:!1,remoteFilter:!1,limit:1/0,context:{project:project_oid,projectScopeDown:!0,projectScopeUp:!1}},listeners:{select:this._onLoad,ready:this._onLoad,scope:this}})},_onLoad:function(){var project_oid="/project/37192747640";this.down("#features")&&this.down("#features").destroy(),this.add({id:"features",xtype:"rallygridboard",modelNames:["PortfolioItem/Feature"],toggleState:"board",context:this.getContext(),storeConfig:{context:{project:project_oid,projectScopeDown:!0,projectScopeUp:!1},filters:[this._getFilter()]},cardBoardConfig:{attribute:"State",fetch:["Project","PercentDoneByStoryCount"],cardConfig:{xtype:"rallycard",fields:["State","Project"],showIconsAndHighlightBorder:!1,editable:!1,showAge:!0},columnConfig:{plugins:[{ptype:"rallycolumncardcounter"}]}},plugins:[{ptype:"rallygridboardfieldpicker",modelNames:["PortfolioItem/Feature"],headerPosition:"left"},{ptype:"rallygridboardcustomfiltercontrol",headerPosition:"left",filterControlConfig:{modelNames:["PortfolioItem/Feature"]}}]})},_getFilter:function(){var combo=this.down("rallycombobox");return{property:"Parent.Parent",operator:"=",value:combo.getValue()}}});

            Rally.launchApp('CustomApp', {
                name:"UAT Triage",
	            parentRepos:""
            });

        });
    </script>


    <style type="text/css">
        
    </style>
</head>
<body>
</body>
</html>
